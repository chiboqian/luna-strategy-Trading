# Pairs Trading: GLD (Gold) vs SLV (Silver)
# The "Gold/Silver Ratio" Trade.

rules:
  # ----------------------------------------------------------------------------
  # PAIR ENTRY: LONG SLV / SHORT GLD (Gold is expensive relative to Silver)
  # ----------------------------------------------------------------------------
  - name: "Pair Entry: Long SLV / Short GLD"
    asset_class: "stock"
    symbol: "GLD"
    trigger: "bar"
    conditions:
      - field: "z_score_vwap_20"
        operator: ">"
        value: 2.0
    action:
      command: "python ./Trading/alpaca_pairs_cli.py --long SLV --short GLD --capital 10000 --action open"
    cooldown: 7200

  # ----------------------------------------------------------------------------
  # PAIR ENTRY: LONG GLD / SHORT SLV (Silver is expensive relative to Gold)
  # ----------------------------------------------------------------------------
  - name: "Pair Entry: Long GLD / Short SLV"
    asset_class: "stock"
    symbol: "SLV"
    trigger: "bar"
    conditions:
      - field: "z_score_vwap_20"
        operator: ">"
        value: 2.0
    action:
      command: "python ./Trading/alpaca_pairs_cli.py --long GLD --short SLV --capital 10000 --action open"
    cooldown: 7200

  # ----------------------------------------------------------------------------
  # PAIR EXIT: CLOSE ALL (Watch both symbols for normalization)
  # ----------------------------------------------------------------------------
  - name: "Pair Exit: GLD/SLV Normalize (GLD Trigger)"
    asset_class: "stock"
    symbol: "GLD"
    trigger: "bar"
    conditions:
      - field: "z_score_vwap_20"
        operator: "<"
        value: 0.5
      - field: "z_score_vwap_20"
        operator: ">"
        value: -0.5
    action:
      command: "python ./Trading/alpaca_pairs_cli.py --long SLV --short GLD --action close"
    cooldown: 3600

  - name: "Pair Exit: GLD/SLV Normalize (SLV Trigger)"
    asset_class: "stock"
    symbol: "SLV"
    trigger: "bar"
    conditions:
      - field: "z_score_vwap_20"
        operator: "<"
        value: 0.5
      - field: "z_score_vwap_20"
        operator: ">"
        value: -0.5
    action:
      command: "python ./Trading/alpaca_pairs_cli.py --long GLD --short SLV --action close"
    cooldown: 3600
